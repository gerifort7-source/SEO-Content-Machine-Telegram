
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ SEO Content Machine Pro - Telegram Publisher</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        #app { max-width: 1400px; margin: 0 auto; background: #fff; border-radius: 15px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; color: #fff; text-align: center; }
        .header h1 { font-size: 2.5em; margin-bottom: 10px; }
        .header p { font-size: 1.1em; opacity: 0.9; }
        .tabs { display: flex; background: #f5f5f5; border-bottom: 2px solid #ddd; flex-wrap: wrap; }
        .tab-btn { flex: 1; min-width: 150px; padding: 15px; text-align: center; background: none; border: none; cursor: pointer; font-size: 1em; font-weight: 500; color: #666; transition: all 0.3s ease; border-bottom: 3px solid transparent; }
        .tab-btn.active { background: #fff; color: #667eea; border-bottom-color: #667eea; }
        .tab-btn:hover { background: #fafafa; }
        .container { display: grid; grid-template-columns: 1fr; gap: 20px; padding: 30px; min-height: 70vh; }
        .content { display: none; animation: fadeIn 0.3s ease; }
        .content.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .editor-section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 1024px) { .editor-section { grid-template-columns: 1fr; } }
        .editor-panel { background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0; }
        .preview-panel { background: #f0f7ff; padding: 20px; border-radius: 10px; border: 1px solid #b3d9ff; }
        .preview-text { background: #fff; padding: 15px; border-radius: 8px; min-height: 200px; margin-top: 10px; border: 1px solid #ddd; word-wrap: break-word; white-space: pre-wrap; overflow-y: auto; max-height: 300px; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 1em; font-family: inherit; transition: border-color 0.3s; }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus { outline: none; border-color: #667eea; box-shadow: 0 0 5px rgba(102,126,234,0.2); }
        .form-group textarea { resize: vertical; min-height: 120px; }
        .char-count { font-size: 0.85em; color: #999; margin-top: 5px; }
        .button-group { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 20px; }
        @media (max-width: 768px) { .button-group { grid-template-columns: 1fr; } }
        .btn-primary, .btn-secondary { padding: 12px 20px; border: none; border-radius: 8px; cursor: pointer; font-size: 1em; font-weight: 600; transition: all 0.3s ease; }
        .btn-primary { background: #667eea; color: #fff; }
        .btn-primary:hover { background: #5568d3; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(102,126,234,0.4); }
        .btn-primary:active { transform: translateY(0); }
        .btn-secondary { background: #e0e0e0; color: #333; }
        .btn-secondary:hover { background: #d0d0d0; }
        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 20px; border-radius: 10px; text-align: center; box-shadow: 0 5px 15px rgba(102,126,234,0.3); }
        .stat-number { font-size: 2.5em; font-weight: bold; }
        .stat-label { margin-top: 10px; opacity: 0.9; }
        .media-panel { background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0; margin-top: 20px; }
        .media-panel h2 { grid-column: 1/-1; }
        #mediaContainer { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 15px; margin-top: 15px; }
        .media-item { position: relative; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); background: #fff; }
        .media-item img, .media-item video { width: 100%; height: 120px; object-fit: cover; display: block; }
        .media-delete { position: absolute; top: 5px; right: 5px; background: rgba(255,0,0,0.9); color: #fff; border: none; border-radius: 50%; width: 30px; height: 30px; cursor: pointer; font-weight: bold; font-size: 16px; transition: all 0.2s; display: flex; align-items: center; justify-content: center; }
        .media-delete:hover { background: #f00; transform: scale(1.1); }
        .scheduled-list { margin-top: 15px; }
        .scheduled-item { background: #fff; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        .scheduled-info { flex: 1; }
        .scheduled-time { color: #667eea; font-weight: bold; display: block; }
        .scheduled-text { color: #666; margin-top: 8px; font-size: 0.95em; }
        .delete-btn { background: #ff6b6b; color: #fff; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; transition: all 0.3s; margin-top: 10px; }
        .delete-btn:hover { background: #ff5252; }
        .calendar { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .calendar th, .calendar td { padding: 12px; text-align: center; border: 1px solid #ddd; }
        .calendar th { background: #667eea; color: #fff; font-weight: bold; }
        .calendar td { background: #f9f9f9; cursor: pointer; transition: all 0.2s; }
        .calendar td:hover { background: #f0f7ff; }
        .calendar td.has-post { background: #e3f2fd; color: #1976d2; font-weight: bold; }
        .ai-settings { background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0; }
        #aiResponse { background: #fff; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; margin-top: 15px; display: none; }
        #aiResponse.show { display: block; animation: slideIn 0.3s ease; }
        @keyframes slideIn { from { opacity: 0; transform: translateX(-10px); } to { opacity: 1; transform: translateX(0); } }
        h2 { color: #667eea; margin-bottom: 20px; font-size: 1.5em; }
        .notification { background: #4caf50; color: #fff; padding: 15px; border-radius: 8px; margin-bottom: 15px; animation: slideDown 0.3s ease; }
        .notification.error { background: #f44336; }
        @keyframes slideDown { from { transform: translateY(-20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
        .empty-message { text-align: center; padding: 40px; color: #999; }
        .empty-message p { font-size: 1.1em; }
    </style>
</head>
<body>
<div id="app">
    <div class="header">
        <h1>üöÄ SEO Content Machine Pro</h1>
        <p>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –≤ Telegram - @PromptsForPhotos</p>
    </div>
    
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab(event, 'editor')">üìù –†–µ–¥–∞–∫—Ç–æ—Ä</button>
        <button class="tab-btn" onclick="switchTab(event, 'scheduled')">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
        <button class="tab-btn" onclick="switchTab(event, 'calendar')">üìÜ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
        <button class="tab-btn" onclick="switchTab(event, 'ai')">ü§ñ –ò–ò –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</button>
        <button class="tab-btn" onclick="switchTab(event, 'settings')">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </div>
    
    <div class="container">
        <!-- –†–ï–î–ê–ö–¢–û–† -->
        <div id="editor" class="content active">
            <div id="notifications"></div>
            <div class="editor-section">
                <div class="editor-panel">
                    <h2>üìù –†–µ–¥–∞–∫—Ç–æ—Ä –ü–æ—Å—Ç–∞</h2>
                    <div class="form-group">
                        <label>–¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è</label>
                        <textarea id="postText" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Ç–µ–∫—Å—Ç –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏..."></textarea>
                        <div class="char-count">–°–∏–º–≤–æ–ª–æ–≤: <span id="charCount">0</span>/4096</div>
                    </div>
                    <div class="form-group">
                        <label>–î–∞—Ç–∞ –∏ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–æ—Å—Ç–∞–≤—å—Ç–µ –ø—É—Å—Ç–æ –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏)</label>
                        <input type="datetime-local" id="scheduleTime">
                    </div>
                    <div class="button-group">
                        <button class="btn-primary" onclick="publishPost()">üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                        <button class="btn-secondary" onclick="clearEditor()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        <button class="btn-primary" onclick="document.getElementById('mediaFile').click()">üìé –î–æ–±–∞–≤–∏—Ç—å –º–µ–¥–∏–∞</button>
                    </div>
                </div>
                
                <div class="preview-panel">
                    <h2>üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                    <div class="preview-text" id="previewText">–í–∞—à —Ç–µ–∫—Å—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-number" id="postCount">0</div>
                            <div class="stat-label">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="scheduledCount">0</div>
                            <div class="stat-label">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="media-panel">
                <h2 style="grid-column: 1/-1; margin: 0 0 15px 0;">üìà –ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã</h2>
                <input type="file" id="mediaFile" accept="image/*,video/*" onchange="handleMediaUpload(event)" style="display:none;">
                <div id="mediaContainer"></div>
            </div>
        </div>
        
        <!-- –†–ê–°–ü–ò–°–ê–ù–ò–ï -->
        <div id="scheduled" class="content">
            <h2>üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã</h2>
            <div class="scheduled-list" id="scheduledList">
                <div class="empty-message"><p>–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤</p></div>
            </div>
        </div>
        
        <!-- –ö–ê–õ–ï–ù–î–ê–†–¨ -->
        <div id="calendar" class="content">
            <h2>üìÜ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ü–æ—Å—Ç–æ–≤</h2>
            <div style="display:grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
                <div><button class="btn-secondary" onclick="prevMonth()">‚Üê –ü—Ä–µ–¥</button></div>
                <div style="text-align: center; font-size: 1.3em; font-weight: bold;" id="monthYear"></div>
                <div style="text-align: right;"><button class="btn-secondary" onclick="nextMonth()">–î–∞–ª–µ–µ ‚Üí</button></div>
            </div>
            <table class="calendar" id="calendarTable"></table>
        </div>
        
        <!-- –ò–ò –ì–ï–ù–ï–†–ê–¢–û–† -->
        <div id="ai" class="content">
            <h2>ü§ñ –ò–ò –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ö–æ–Ω—Ç–µ–Ω—Ç–∞</h2>
            <div class="ai-settings">
                <div class="form-group">
                    <label>API –ö–ª—é—á (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π Perplexity API)</label>
                    <input type="text" id="aiApiKey

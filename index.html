<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üöÄ SEO Content Machine Pro</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        #app { max-width: 1400px; margin: 0 auto; background: #fff; border-radius: 15px; box-shadow: 0 20px 60px rgba(0,0,0,0.3); overflow: hidden; }
        .header { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; color: #fff; text-align: center; }
        .header h1 { font-size: 2em; margin-bottom: 10px; }
        .header p { font-size: 0.95em; opacity: 0.9; }
        .tabs { display: flex; background: #f5f5f5; border-bottom: 2px solid #ddd; flex-wrap: wrap; }
        .tab-btn { flex: 1; padding: 15px; text-align: center; background: none; border: none; cursor: pointer; font-size: 0.9em; font-weight: 500; color: #666; transition: all 0.3s; border-bottom: 3px solid transparent; }
        .tab-btn.active { background: #fff; color: #667eea; border-bottom-color: #667eea; }
        .tab-btn:hover { background: #fafafa; }
        .container { display: grid; gap: 20px; padding: 30px; }
        .content { display: none; }
        .content.active { display: block; }
        .editor-section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        @media (max-width: 1024px) { .editor-section { grid-template-columns: 1fr; } }
        .panel { background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0; }
        .preview-panel { background: #f0f7ff; border-color: #b3d9ff; }
        .preview-text { background: #fff; padding: 15px; border-radius: 8px; min-height: 150px; max-height: 350px; overflow-y: auto; margin-top: 10px; border: 1px solid #ddd; white-space: pre-wrap; word-wrap: break-word; }
        .form-group { margin-bottom: 15px; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: 600; color: #333; }
        .form-group input, .form-group textarea, .form-group select { width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 8px; font-size: 0.95em; font-family: inherit; }
        .form-group textarea { resize: vertical; min-height: 100px; }
        .char-count { font-size: 0.85em; color: #999; margin-top: 5px; }
        .button-group { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 10px; margin-top: 20px; }
        @media (max-width: 768px) { .button-group { grid-template-columns: 1fr; } }
        .btn { padding: 10px 15px; border: none; border-radius: 8px; cursor: pointer; font-size: 0.9em; font-weight: 600; transition: all 0.3s; }
        .btn-primary { background: #667eea; color: #fff; }
        .btn-primary:hover { background: #5568d3; }
        .btn-secondary { background: #e0e0e0; color: #333; }
        .btn-secondary:hover { background: #d0d0d0; }
        .stats { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-top: 20px; }
        .stat-card { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: #fff; padding: 20px; border-radius: 10px; text-align: center; }
        .stat-number { font-size: 2em; font-weight: bold; }
        .stat-label { margin-top: 8px; opacity: 0.9; }
        .media-panel { background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0; margin-top: 20px; }
        #mediaContainer { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 12px; margin-top: 15px; }
        .media-item { position: relative; border-radius: 8px; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.1); }
        .media-item img, .media-item video { width: 100%; height: 100px; object-fit: cover; }
        .media-delete { position: absolute; top: 4px; right: 4px; background: rgba(255,0,0,0.85); color: #fff; border: none; border-radius: 50%; width: 26px; height: 26px; cursor: pointer; font-size: 14px; padding: 0; display: flex; align-items: center; justify-content: center; }
        .media-delete:hover { background: #f00; }
        .scheduled-list { margin-top: 15px; }
        .scheduled-item { background: #fff; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; margin-bottom: 10px; }
        .scheduled-time { color: #667eea; font-weight: bold; }
        .scheduled-text { color: #666; margin: 8px 0; font-size: 0.95em; word-break: break-word; }
        .delete-btn { background: #ff6b6b; color: #fff; border: none; padding: 6px 12px; border-radius: 5px; cursor: pointer; font-size: 0.85em; }
        .delete-btn:hover { background: #ff5252; }
        .calendar { width: 100%; border-collapse: collapse; margin-top: 20px; }
        .calendar th, .calendar td { padding: 12px; text-align: center; border: 1px solid #ddd; font-size: 0.9em; }
        .calendar th { background: #667eea; color: #fff; }
        .calendar td { background: #f9f9f9; cursor: pointer; }
        .calendar td:hover { background: #f0f7ff; }
        .ai-section { background: #f9f9f9; padding: 20px; border-radius: 10px; border: 1px solid #e0e0e0; }
        #aiResponse { background: #fff; padding: 15px; border-radius: 8px; border-left: 4px solid #667eea; margin-top: 15px; display: none; }
        #aiResponse.show { display: block; }
        h2 { color: #667eea; margin-bottom: 15px; font-size: 1.3em; }
        .empty-state { text-align: center; padding: 40px; color: #999; }
        .notification { padding: 12px 15px; border-radius: 8px; margin-bottom: 15px; }
        .notification.success { background: #d4edda; color: #155724; }
        .notification.error { background: #f8d7da; color: #721c24; }
    </style>
</head>
<body>
<div id="app">
    <div class="header">
        <h1>üöÄ SEO Content Machine Pro</h1>
        <p>Telegram Content Publisher</p>
    </div>
    
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab(0)">üìù –†–µ–¥–∞–∫—Ç–æ—Ä</button>
        <button class="tab-btn" onclick="switchTab(1)">üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</button>
        <button class="tab-btn" onclick="switchTab(2)">üìÜ –ö–∞–ª–µ–Ω–¥–∞—Ä—å</button>
        <button class="tab-btn" onclick="switchTab(3)">ü§ñ –ò–ò</button>
        <button class="tab-btn" onclick="switchTab(4)">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
    </div>
    
    <div class="container">
        <!-- TAB 1: –†–ï–î–ê–ö–¢–û–† -->
        <div class="content active">
            <div id="notif"></div>
            <div class="editor-section">
                <div class="panel">
                    <h2>üìù –†–µ–¥–∞–∫—Ç–æ—Ä –ü–æ—Å—Ç–∞</h2>
                    <div class="form-group">
                        <label>–¢–µ–∫—Å—Ç –ø–æ—Å—Ç–∞</label>
                        <textarea id="postText" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–µ–∫—Å—Ç..."></textarea>
                        <div class="char-count">–°–∏–º–≤–æ–ª–æ–≤: <span id="charCount">0</span>/4096</div>
                    </div>
                    <div class="form-group">
                        <label>–í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</label>
                        <input type="datetime-local" id="scheduleTime">
                    </div>
                    <div class="button-group">
                        <button class="btn btn-primary" onclick="publishPost()">üöÄ –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å</button>
                        <button class="btn btn-secondary" onclick="clearEditor()">–û—á–∏—Å—Ç–∏—Ç—å</button>
                        <button class="btn btn-primary" onclick="document.getElementById('mediaFile').click()">üìé –ú–µ–¥–∏–∞</button>
                    </div>
                </div>
                
                <div class="panel preview-panel">
                    <h2>üëÅÔ∏è –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä</h2>
                    <div class="preview-text" id="previewText">–¢–µ–∫—Å—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...</div>
                    <div class="stats">
                        <div class="stat-card">
                            <div class="stat-number" id="postCount">0</div>
                            <div class="stat-label">–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-number" id="scheduledCount">0</div>
                            <div class="stat-label">–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–æ</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="media-panel">
                <h2>üìÅ –ú–µ–¥–∏–∞—Ñ–∞–π–ª—ã</h2>
                <input type="file" id="mediaFile" accept="image/*,video/*" onchange="handleMediaUpload()" style="display:none;">
                <div id="mediaContainer"></div>
            </div>
        </div>
        
        <!-- TAB 2: –†–ê–°–ü–ò–°–ê–ù–ò–ï -->
        <div class="content">
            <h2>üìÖ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã</h2>
            <div id="scheduledList" class="scheduled-list">
                <div class="empty-state">–ù–µ—Ç –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤</div>
            </div>
        </div>
        
        <!-- TAB 3: –ö–ê–õ–ï–ù–î–ê–†–¨ -->
        <div class="content">
            <h2>üìÜ –ö–∞–ª–µ–Ω–¥–∞—Ä—å –ø–æ—Å—Ç–æ–≤</h2>
            <div style="display:grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
                <button class="btn btn-secondary" onclick="prevMonth()">‚Üê –ü—Ä–µ–¥</button>
                <div style="text-align: center; font-size: 1.1em; font-weight: bold;" id="monthYear"></div>
                <div></div>
                <button class="btn btn-secondary" onclick="nextMonth()">–î–∞–ª–µ–µ ‚Üí</button>
            </div>
            <table class="calendar" id="calendarTable"></table>
        </div>
        
        <!-- TAB 4: –ò–ò –ì–ï–ù–ï–†–ê–¢–û–† -->
        <div class="content">
            <h2>ü§ñ –ò–ò –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä</h2>
            <div class="ai-section">
                <div class="form-group">
                    <label>–¢–µ–º–∞ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏</label>
                    <input type="text" id="aiTopic" placeholder="–ù–∞–ø—Ä–∏–º–µ—Ä: –º–æ–¥–∞, —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –ø—É—Ç–µ—à–µ—Å—Ç–≤–∏—è...">
                </div>
                <div class="form-group">
                    <label>–¢–æ–Ω –≥–æ–ª–æ—Å–∞</label>
                    <select id="aiTone">
                        <option value="creative">–ö—Ä–µ–∞—Ç–∏–≤–Ω—ã–π</option>
                        <option value="professional">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π</option>
                        <option value="funny">–û—Å—Ç—Ä–æ—É–º–Ω—ã–π</option>
                        <option value="motivational">–ú–æ—Ç–∏–≤–∏—Ä—É—é—â–∏–π</option>
                    </select>
                </div>
                <button class="btn btn-primary" onclick="generateAI()">‚ú® –ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å</button>
                <div id="aiResponse"></div>
            </div>
        </div>
        
        <!-- TAB 5: –ù–ê–°–¢–†–û–ô–ö–ò -->
        <div class="content">
            <h2>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
            <div class="ai-section">
                <div class="form-group">
                    <label>Telegram Bot Token</label>
                    <input type="password" id="botToken" placeholder="–í–≤–µ–¥–∏—Ç–µ —Ç–æ–∫–µ–Ω...">
                </div>
                <div class="form-group">
                    <label>Chat ID</label>
                    <input type="text" id="chatId" placeholder="–í–≤–µ–¥–∏—Ç–µ ID —á–∞—Ç–∞...">
                </div>
                <button class="btn btn-primary" onclick="saveSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                <button class="btn btn-secondary" onclick="testConnection()">üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
            </div>
        </div>
    </div>
</div>

<script>
let mediaFiles = [];
let scheduledPosts = [];
let currentMonth = new Date();
let stats = { published: 0, scheduled: 0 };

document.getElementById('postText').addEventListener('input', function() {
    document.getElementById('charCount').textContent = this.value.length;
    document.getElementById('previewText').textContent = this.value || '–¢–µ–∫—Å—Ç –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å...';
});

function switchTab(index) {
    document.querySelectorAll('.content').forEach(el => el.classList.remove('active'));
    document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove
